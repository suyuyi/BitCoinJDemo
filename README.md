BitCoinJDemo是一个基于[BitCoinJ](https://bitcoinj.github.io/)和[ZBar](https://github.com/yanzhenjie/android-zbar-sdk)两个工具库的安卓端分层确定性多重签名比特币钱包

### 项目描述
本项目为分层确定性多重签名比特币钱包的实现，其中的主要交易功能由BitcoinJ库实现，而与二维码相关的辅助功能则由ZBar实现（需要注意的是在实现二维码扫描功能时相关的jniLibs与drawable图像资源导入项目的先后顺序可能会影响到功能的实现）。

其功能以及特性大致如下：
* 可以通过配置选择来交易真实比特币或[TestNet3比特币](https://bitcoinfaucet.uo1.net/)，后者不具有实际价值，仅作测试使用
* 使用SPV技术来完成区块链记录的同步与存储，大幅提升了同步速度、减少了存储所需空间
* 使用分层确定性密钥技术，大幅减少了密钥存储所需空间，同时每个接受密钥都会在使用一段时间后更换，保障用户隐私
* 可以将密钥转换为助记词及时间，便于设备丢失后钱包的恢复
* 可以使用多重签名技术，即一个钱包中的钱款为多个密钥所共有，当其中的用户试图消费时需要获得一定量的其他拥有者的签名，需要注意的是该功能当前处于测试阶段，只能进行本地展示，实际使用还需要后续改进

### 项目构成及运行逻辑
![流程图](https://github.com/suyuyi/BitCoinJDemo/blob/master/%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA/%E9%A1%B9%E7%9B%AE%E9%80%BB%E8%BE%91.jpg)
* json、wallet是存储相关信息的本地存储文件，其他矩形为实际的代码
* 两种虚线，一种代表第一次创建钱包时的创建行为，而另一种则表示多重签名钱包载入时需要从json文件中读取此前保存的信息
* 关于单签名还是多签名的判断实际上在config阶段已经完成，图中的菱形框是一种逻辑上的表示，并不存在实际代码

### 项目具体代码构成和功能
#### MainActivity
> ##### 函数功能
> 该函数为初始界面函数，用户可以在该界面点击选择三种行为：创建、载入、恢复钱包，点击后随即跳转至相关界面
> ##### 函数接口：无
> ##### 相关界面（layout）：activity1
#### creat_config
##### 函数功能
为钱包的创建配置格式化的输入，其接收用户输入的字符串、比特币网络选择、多重签名选择三个信息，同时搜索是否存在同名文件，如果不存在，则根据用户的选择来决定之后跳转的函数，并将命名、网络选择以及模式传入至选定的函数中，需要注意的是此时的命名会在输入命名的基础上加上两个后缀来表示其网络和签名配置，便于解决同名不同配置造成后续操作出现问题的情况（决定函数类型的是多重签名选择，依据这一选择会决定之后进入单签名钱包还是进入具体的多重签名配置）
##### 函数接口：无
##### 相关界面：config_wallet
#### load_config
##### 函数功能

##### 函数接口
##### 相关界面
#### restore_wallet
##### 函数功能
##### 函数接口
##### 相关界面
#### pre_multi
##### 函数功能
##### 函数接口
##### 相关界面
#### single
##### 函数功能
##### 内部函数
##### 函数接口
##### 相关界面
#### multi_v2
